{"ast":null,"code":"import React from\"react\";import{Formik}from\"formik\";import{Input,Button,Tag}from\"antd\";import{addNewStudent}from\"../Client\";import\"./AddStudentForm.css\";var AddStudentForm=function AddStudentForm(_ref){var onSuccess=_ref.onSuccess,onFailure=_ref.onFailure;return/*#__PURE__*/React.createElement(Formik,{initialValues:{firstName:\"\",lastName:\"\",email:\"\",gender:\"\"},validate:function validate(values){var errors={};if(!values.firstName){errors.firstName=\"First Name required\";}if(!values.lastName){errors.lastName=\"Last Name required\";}if(!values.email){errors.email=\"Email Required\";}else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)){errors.email=\"Invalid email address\";}if(!values.gender){errors.gender=\"Gender required\";}else if(![\"MALE\",\"FEMALE\",\"male\",\"female\"].includes(values.gender)){errors.gender=\"Gender must be (MALE,FEMALE,male,female)\";}return errors;},onSubmit:function onSubmit(student,_ref2){var setSubmitting=_ref2.setSubmitting;addNewStudent(student).then(function(){onSuccess();}).catch(function(err){onFailure(err);}).finally(function(){setSubmitting(false);});}},function(_ref3){var values=_ref3.values,errors=_ref3.errors,touched=_ref3.touched,isSubmitting=_ref3.isSubmitting,submitForm=_ref3.submitForm,handleChange=_ref3.handleChange,handleBlur=_ref3.handleBlur,handleSubmit=_ref3.handleSubmit,isValid=_ref3.isValid;return/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Input,{className:\"Input\",name:\"firstName\",onChange:handleChange,onBlur:handleBlur,value:values.firstName,placeholder:\"First Name E g Anis \"}),errors.firstName&&touched.firstName&&/*#__PURE__*/React.createElement(Tag,{className:\"tag\"},errors.firstName),/*#__PURE__*/React.createElement(Input,{className:\"Input\",name:\"lastName\",onChange:handleChange,onBlur:handleBlur,value:values.lastName,placeholder:\"Last Name E g Medini \"}),errors.lastName&&touched.lastName&&/*#__PURE__*/React.createElement(Tag,{className:\"tag\"},errors.lastName),/*#__PURE__*/React.createElement(Input,{className:\"Input\",name:\"email\",type:\"email\",onChange:handleChange,onBlur:handleBlur,value:values.email,placeholder:\"Email E g Test@gmail.com  \"}),errors.email&&touched.email&&/*#__PURE__*/React.createElement(Tag,{className:\"tag\"},errors.email),/*#__PURE__*/React.createElement(Input,{name:\"gender\",onChange:handleChange,onBlur:handleBlur,value:values.gender,placeholder:\"Gender E g MALE , FEMALE \"}),errors.gender&&touched.gender&&/*#__PURE__*/React.createElement(Tag,{className:\"tag\"},errors.gender),/*#__PURE__*/React.createElement(Button,{className:\"btn\",onClick:submitForm,type:\"submit\",disabled:isSubmitting|(touched&&!isValid)},\"Submit\"));});};export default AddStudentForm;","map":{"version":3,"sources":["/Users/anismedini/Downloads/deployamz/src/js-copy-2/src/forms/AddstudentForm.js"],"names":["React","Formik","Input","Button","Tag","addNewStudent","AddStudentForm","onSuccess","onFailure","firstName","lastName","email","gender","values","errors","test","includes","student","setSubmitting","then","catch","err","finally","touched","isSubmitting","submitForm","handleChange","handleBlur","handleSubmit","isValid"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Formik } from \"formik\";\nimport { Input, Button, Tag } from \"antd\";\nimport { addNewStudent } from \"../Client\";\nimport \"./AddStudentForm.css\";\n\nconst AddStudentForm = ({ onSuccess, onFailure }) => (\n  <Formik\n    initialValues={{ firstName: \"\", lastName: \"\", email: \"\", gender: \"\" }}\n    validate={(values) => {\n      const errors = {};\n      if (!values.firstName) {\n        errors.firstName = \"First Name required\";\n      }\n      if (!values.lastName) {\n        errors.lastName = \"Last Name required\";\n      }\n\n      if (!values.email) {\n        errors.email = \"Email Required\";\n      } else if (\n        !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n      ) {\n        errors.email = \"Invalid email address\";\n      }\n      if (!values.gender) {\n        errors.gender = \"Gender required\";\n      } else if (\n        ![\"MALE\", \"FEMALE\", \"male\", \"female\"].includes(values.gender)\n      ) {\n        errors.gender = \"Gender must be (MALE,FEMALE,male,female)\";\n      }\n      return errors;\n    }}\n    onSubmit={(student, { setSubmitting }) => {\n      addNewStudent(student)\n        .then(() => {\n          onSuccess();\n        })\n        .catch((err) => {\n          onFailure(err);\n        })\n        .finally(() => {\n          setSubmitting(false);\n        });\n    }}\n  >\n    {({\n      values,\n      errors,\n      touched,\n      isSubmitting,\n      submitForm,\n      handleChange,\n      handleBlur,\n      handleSubmit,\n      isValid,\n      /* and other goodies */\n    }) => (\n      <form onSubmit={handleSubmit}>\n        <Input\n          className=\"Input\"\n          name=\"firstName\"\n          onChange={handleChange}\n          onBlur={handleBlur}\n          value={values.firstName}\n          placeholder=\"First Name E g Anis \"\n        />\n        {errors.firstName && touched.firstName && (\n          <Tag className=\"tag\">{errors.firstName}</Tag>\n        )}\n        <Input\n          className=\"Input\"\n          name=\"lastName\"\n          onChange={handleChange}\n          onBlur={handleBlur}\n          value={values.lastName}\n          placeholder=\"Last Name E g Medini \"\n        />\n        {errors.lastName && touched.lastName && (\n          <Tag className=\"tag\">{errors.lastName}</Tag>\n        )}\n        <Input\n          className=\"Input\"\n          name=\"email\"\n          type=\"email\"\n          onChange={handleChange}\n          onBlur={handleBlur}\n          value={values.email}\n          placeholder=\"Email E g Test@gmail.com  \"\n        />\n        {errors.email && touched.email && (\n          <Tag className=\"tag\">{errors.email}</Tag>\n        )}\n        <Input\n          name=\"gender\"\n          onChange={handleChange}\n          onBlur={handleBlur}\n          value={values.gender}\n          placeholder=\"Gender E g MALE , FEMALE \"\n        />\n        {errors.gender && touched.gender && (\n          <Tag className=\"tag\">{errors.gender}</Tag>\n        )}\n        <Button\n          className=\"btn\"\n          onClick={submitForm}\n          type=\"submit\"\n          disabled={isSubmitting | (touched && !isValid)}\n        >\n          Submit\n        </Button>\n      </form>\n    )}\n  </Formik>\n);\n\nexport default AddStudentForm;\n"]},"metadata":{},"sourceType":"module"}